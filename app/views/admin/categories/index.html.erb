<div class="row">
  <div class="col-md-12">
    <%= link_to '#', class: "btn btn-primary" do %>
      <i class="fa fa-plus fa-lg" aria-hidden="true"></i>
      New Category
    <% end %>
  </div>

  <div class="col-lg-12">
    <h5 class="mt-3">Top Level Categories (Menu)</h5>

    <table class="table table-hover">
      <thead>
        <tr>
          <th>Name</th>
          <th># of Child Categories</th>
          <th>Display Order</th>
          <th>Hidden</th>
          <th></th>
          <th></th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <% @top_level.each do |top_cat| %>
          <tr>
            <td><%= top_cat.name %></td>
            <td><%= top_cat.child_categories.count %></td>
            <td><%= top_cat.display_order %></td>
            <td><%= top_cat.hide %></td>
            <td>
              <%= link_to 'Add Child Category', '#', class: "btn btn-sm btn-info" %>
            </td>
            <td>
              <%= link_to 'Edit', '#', class: "btn btn-sm btn-warning" %>
            </td>
            <td>
              <%= link_to 'Delete', '#', class: "btn btn-sm btn-danger" %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>

  <div class="col-md-12">
    <h5 class="mt-5">All Categories</h5>
    <table class="table table-hover">
      <thead>
        <tr>
          <th>Name</th>
          <th>Parent Category</th>
          <th># of Child Categoreis</th>
          <th>Display Order</th>
          <th>Hidden</th>
          <th>Special Category</th>
          <th></th>
          <th></th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <% @categories.each do |cat| %>
          <tr>
            <td><%= cat.name %></td>
            <td>
              <% if cat.parent %>
                <%= cat.parent.name %>
              <% else %>
                None
              <% end %>
            </td>
            <td><%= cat.child_categories.count %></td>
            <td><%= cat.display_order %></td>
            <td><%= cat.hide %></td>
            <td><%= cat.flavor %></td>
            <td>
              <%= link_to 'Add Child Category', '#', class: "btn btn-sm btn-info" %>
            </td>
            <td>
              <%= link_to 'Edit', '#', class: "btn btn-sm btn-warning" %>
            </td>
            <td>
              <%= link_to 'Delete', '#', class: "btn btn-sm btn-danger" %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
